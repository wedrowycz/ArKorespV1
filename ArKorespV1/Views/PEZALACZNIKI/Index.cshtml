@model ArKorespV1.ViewModels.ZalacznikiZOgonemList
@{
    Layout = "~/Views/Shared/_LayoutRefreshable.cshtml";
}

<style>
    .container {
        margin-left: 1px;
        max-width: none;
    }
</style>

<h2>Lista plików użytkownika</h2>

<p>
    @using (Html.BeginForm(
           actionName: "AttachementInsert", controllerName: "PEZALACZNIKI",
           routeValues: new {  },
           method: FormMethod.Post,
           htmlAttributes: new { enctype = "multipart/form-data" }))
    {
        <input type="file" name="file" id="file" value="wybierz załącznik" /> <br>
        @Html.Raw(" Komentarz") <input type="text" name="comment" id="comment" value="" size="200"><br>
        <input type="submit" name="submit" value="Zapisz" />
    }
</p>

@if (Model.FirstOrDefault() == null)
{
    <h2>Brak danych do wyświetlenia</h2>
}
else
{
    <table class="table" style="width:120%">
        <tr style="background-color:#f2f2f2">
            <th>@Html.DisplayNameFor(md => md.FirstOrDefault().pEZALACZNIKI.DNAZWAPLIKU)</th>
            <th>@Html.DisplayNameFor(md => md.FirstOrDefault().pEZALACZNIKI.DOPIS)</th>
            <th>@Html.DisplayNameFor(mi => mi.FirstOrDefault().pEZALACZNIKI.DDATA)</th>            
            <th></th>
            <th style="width:3%">@Html.Raw("id")</th>
        </tr>


        @foreach (var item in Model)
        {
            <tr>
                <td>@Html.DisplayFor(model => item.pEZALACZNIKI.DNAZWAPLIKU)</td>
                <td>@Html.DisplayFor(model => item.pEZALACZNIKI.DOPIS)</td>
                <td>@Html.DisplayFor(model => item.pEZALACZNIKI.DDATA)</td>
                <td>@Html.ActionLink(linkText:"Pobierz plik",actionName:"DownloadFile"
                    ,routeValues:new { id = item.pEZALACZNIKI.ID})
                <br />
                    @Html.ActionLink(linkText:"Usuń", actionName: "Delete" 
                        , routeValues: new { id = item.pEZALACZNIKI.ID})
                <br />
                    @Html.ActionLink(linkText:"Edytuj metadane", actionName:"Edit"
                        ,routeValues: new { id = item.pEZALACZNIKI.ID })
                </td>
                <td style="background-color:cornsilk;font-size:xx-small;font-style:normal">
                    @Html.DisplayFor(model => item.pEZALACZNIKI._id)
                </td>
            </tr>
        }

        </table>
}



